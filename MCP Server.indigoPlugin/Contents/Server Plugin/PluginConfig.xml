<?xml version="1.0"?>
<PluginConfig>
    <!-- OpenAI Configuration -->
    <Field id="openai_api_key" type="textfield" defaultValue="" secure="true" tooltip="Required for semantic search capabilities">
        <Label>OpenAI API Key:</Label>
    </Field>

    <Field id="api_key_help" type="label" fontSize="small" alignWithControl="false" alignText="left">
        <Label>Enter your OpenAI API key to enable semantic search. Get your API key from https://platform.openai.com/api-keys</Label>
    </Field>

    <Field id="separator1" type="separator"/>

    <!-- Server Configuration -->
    <Field id="server_port" type="textfield" defaultValue="8080">
        <Label>Server Port:</Label>
        <Description>HTTP port for the FastMCP server (1024-65535)</Description>
    </Field>

    <Field id="separator2" type="separator"/>

    <!-- Debug Settings -->
    <Field id="showDebugInfo" type="checkbox" defaultValue="false">
        <Label>Enable debug logging:</Label>
        <Description>Shows detailed debug information in the Event Log</Description>
    </Field>

    <Field id="separator3" type="separator"/>

    <!-- FastMCP Server Information -->
    <Field id="mcp_info_label" type="label" fontSize="small" alignWithControl="false" alignText="left">
        <Label>This plugin provides Model Context Protocol (MCP) support using FastMCP with HTTP transport, allowing AI assistants like Claude to interact with your Indigo installation.

The FastMCP server runs automatically when the plugin starts and provides:
• Natural language search for devices, variables, and actions
• Read-only access to all Indigo entities via HTTP resources
• Semantic search powered by OpenAI embeddings
• HTTP transport for better performance and reliability

The server will be available at: http://127.0.0.1:[configured port]

To use with Claude Desktop, add this to your claude_desktop_config.json:
{
  "mcpServers": {
    "indigo": {
      "command": "npx",
      "args": ["@anthropic/mcp-client", "http://127.0.0.1:8080"]
    }
  }
}</Label>
    </Field>
</PluginConfig>